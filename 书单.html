<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        label {
            display: block;
            margin: 0px;
        }

        /* .pag div button {
            width: 50px;
            height: 20px;
            margin: 5px;
        } */

        td {
            padding: 10px;
        }
 
        p {
            width: 200px;
            height: 20px;
            color: cornflowerblue;
        }
    </style>
</head>
<body>
    <div id="bookmanager1">
        <h1>政治类书单管理器</h1>
        <form class="book-form" id="book-form">
            <div>
                <label for="title">标题</label>
                <input type="text" id="title" class="">
            </div>
            <div>
                <label for="author">作者</label>
                <input type="text" id="author" class="">
            </div>
            <div>
                <label for="isbn">ISBN</label>
                <input type="text" id="isbn" class="">
            </div>
            <div>
                <input type="submit" value="提交">
            </div>
        </form>
        <table>
            <thead>
                <tr>
                    <th>书籍</th>
                    <th>作者</th>
                    <th>ISBN</th>
                    <th>备注</th>
                </tr>
            </thead>
            <tbody class="book-list"></tbody>
            </table>
    </div>
    <div id="bookmanager2">
        <h1>政治类书单管理器</h1>
        <form class="book-form" id="book-form">
            <div>
                <label for="title">标题</label>
                <input type="text" id="title" class="">
            </div>
            <div>
                <label for="author">作者</label>
                <input type="text" id="author" class="">
            </div>
            <div>
                <label for="isbn">ISBN</label>
                <input type="text" id="isbn" class="">
            </div>
            <div>
                <input type="submit" value="提交">
            </div>
        </form>
        <table>
            <thead>
                <tr>
                    <th>书籍</th>
                    <th>作者</th>
                    <th>ISBN</th>
                    <th>备注</th>
                </tr>
            </thead>
            <tbody class="book-list">
                <!-- <tr>
                <td>书名</td>
                <td>作者</td>
                <td>ISBN</td>
                <td><a href="#">删除</a></td>
            </tr> -->
            </tbody>
        </table>
    </div>

    <script>    
      const container = document.querySelector('#bookmanager1')
      const list = container.querySelector('.book-list')
    // 创建书单管理器bookManager
    const BookManager = function(){
      
        // bookManage对象需要具有那些属性？
        
    }
    // 创建数  构造函数
    const Book = function(title,author,isbn){
        this.title = title;
        this.author = author;
        this.isbn = isbn 
     }
    // 添加书籍addBook
    BookManager.prototype.addBook = function(book){
       const row  = document.createElement('tr')
       row.innerHTML = `
            <td>${book.title}</td>
            <td>${book.author}</td>
            <td>${book.isbn}</td>
            <td><a href="javascript:void(0)">删除</a></td>`
      list.appendChild(row)
    }

    // 删除书籍deleteBook
   BookManager.prototype.deleteBook = function(target){
        target.parentElement.parentElement.remove()
    }

    // 添加submit事件监听程序
    const bookForm = document.querySelector('#book-form')
    bookForm.addEventListener('submit',function(e){
        e.preventDefault()
        // submit事件触发后，要做什么？拿值!
        const title = document.querySelector('#title').value
        const author = document.querySelector('#author').value
        const isbn = document.querySelector('#isbn').value

        const book = new Book(title,author,isbn)
        console.log(book);
        const bm = new BookManager()
        bm.addBook(book)
    })

    // 添加click事件监听程序
    const bookList = document.querySelector('.book-list')
    bookList.addEventListener('click',function(e){
        const bm = new BookManager()
        bm.deleteBook(e.target)
    })

    </script>

</body>
</html>